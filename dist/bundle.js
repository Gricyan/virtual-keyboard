(()=>{"use strict";const e=JSON.parse('[[{"key":"`","keyCode":192,"code":"Backquote","classes":"keyboard__key"},{"key":"1","keyCode":49,"code":"Digit1","classes":"keyboard__key"},{"key":"2","keyCode":50,"code":"Digit2","classes":"keyboard__key"},{"key":"3","keyCode":51,"code":"Digit3","classes":"keyboard__key"},{"key":"4","keyCode":52,"code":"Digit4","classes":"keyboard__key"},{"key":"5","keyCode":53,"code":"Digit5","classes":"keyboard__key"},{"key":"6","keyCode":54,"code":"Digit6","classes":"keyboard__key"},{"key":"7","keyCode":55,"code":"Digit7","classes":"keyboard__key"},{"key":"8","keyCode":56,"code":"Digit8","classes":"keyboard__key"},{"key":"9","keyCode":57,"code":"Digit9","classes":"keyboard__key"},{"key":"0","keyCode":48,"code":"Digit0","classes":"keyboard__key"},{"key":"-","keyCode":109,"code":"Minus","classes":"keyboard__key"},{"key":"=","keyCode":61,"code":"Equal","classes":"keyboard__key"},{"key":"Backspace","keyCode":8,"code":"Backspace","classes":["keyboard__key","backspace","option-key","icon-before"]}],[{"key":"Tab","keyCode":9,"code":"Tab","classes":["keyboard__key","tab","option-key","icon-before"]},{"key":"q","keyCode":81,"code":"KeyQ","classes":"keyboard__key"},{"key":"w","keyCode":87,"code":"KeyW","classes":"keyboard__key"},{"key":"e","keyCode":69,"code":"KeyE","classes":"keyboard__key"},{"key":"r","keyCode":82,"code":"KeyR","classes":"keyboard__key"},{"key":"t","keyCode":84,"code":"KeyT","classes":"keyboard__key"},{"key":"y","keyCode":89,"code":"KeyY","classes":"keyboard__key"},{"key":"u","keyCode":85,"code":"KeyU","classes":"keyboard__key"},{"key":"i","keyCode":73,"code":"KeyI","classes":"keyboard__key"},{"key":"o","keyCode":79,"code":"KeyO","classes":"keyboard__key"},{"key":"p","keyCode":80,"code":"KeyP","classes":"keyboard__key"},{"key":"[","keyCode":160,"code":"BracketLeft","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"description":"^","classes":"keyboard__key"},{"key":"]","keyCode":221,"code":"BracketRight","classes":"keyboard__key"},{"key":"\\\\","keyCode":220,"code":"Backslash","classes":"keyboard__key"},{"key":"Delete","keyCode":46,"code":"Delete","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":["keyboard__key","delete","option-key"]}],[{"key":"CapsLock","keyCode":20,"code":"CapsLock","classes":["keyboard__key","capslock","option-key"]},{"key":"a","keyCode":65,"code":"KeyA","classes":"keyboard__key"},{"key":"s","keyCode":83,"code":"KeyS","classes":"keyboard__key"},{"key":"d","keyCode":68,"code":"KeyD","classes":"keyboard__key"},{"key":"f","keyCode":70,"code":"KeyF","classes":"keyboard__key"},{"key":"g","keyCode":71,"code":"KeyG","classes":"keyboard__key"},{"key":"h","keyCode":72,"code":"KeyH","classes":"keyboard__key"},{"key":"j","keyCode":74,"code":"KeyJ","classes":"keyboard__key"},{"key":"k","keyCode":75,"code":"KeyK","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":"l","keyCode":76,"code":"KeyL","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":";","keyCode":59,"code":"Semicolon","classes":"keyboard__key"},{"key":"\'","keyCode":222,"code":"Quote","classes":"keyboard__key"},{"key":"Enter","keyCode":13,"code":"Enter","classes":["keyboard__key","enter","option-key","icon-before"]}],[{"key":"Shift","keyCode":16,"code":"ShiftLeft","classes":["keyboard__key","shift-left","option-key","icon-before"]},{"key":"z","keyCode":90,"code":"KeyZ","classes":"keyboard__key"},{"key":"x","keyCode":88,"code":"KeyX","classes":"keyboard__key"},{"key":"c","keyCode":67,"code":"KeyC","classes":"keyboard__key"},{"key":"v","keyCode":86,"code":"KeyV","classes":"keyboard__key"},{"key":"b","keyCode":66,"code":"KeyB","classes":"keyboard__key"},{"key":"n","keyCode":78,"code":"KeyN","classes":"keyboard__key"},{"key":"m","keyCode":77,"code":"KeyM","classes":"keyboard__key"},{"key":",","keyCode":108,"code":"Comma","location":3,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":"keyboard__key"},{"key":".","keyCode":190,"code":"Period","classes":"keyboard__key"},{"key":"/","keyCode":191,"code":"Slash","classes":"keyboard__key"},{"key":"","keyCode":38,"code":"ArrowUp","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-up","option-key","icon-bg"]},{"key":"Shift","keyCode":16,"code":"ShiftRight","classes":["keyboard__key","shift-right","option-key","icon-before"]}],[{"key":"Ctrl","keyCode":17,"code":"ControlLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-left","option-key"]},{"key":"","keyCode":21,"code":"LightMode","classes":["keyboard__key","light-mode","option-key"]},{"key":"Alt","keyCode":18,"code":"AltLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":["keyboard__key","alt-left","option-key"]},{"key":" ","keyCode":32,"which":32,"code":"Space","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","space","option-key","icon-bg"]},{"key":"\\\\","keyCode":220,"code":"IntlBackslash","classes":["keyboard__key","backslash","option-key"]},{"key":"","keyCode":91,"code":"MetaLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","windows","option-key"]},{"key":"","keyCode":37,"code":"ArrowLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-left","option-key","icon-bg"]},{"key":"","keyCode":40,"code":"ArrowDown","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-down","option-key","icon-bg"]},{"key":"","keyCode":39,"code":"ArrowRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-right","option-key","icon-bg"]},{"key":"AltGr","keyCode":18,"code":"AltRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","alt-right","option-key"]},{"key":"Ctrl","which":17,"code":"ControlRight","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-right","option-key"]}]]');function a(e,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=function(){function e(a){var o=a.key,s=a.keyCode,t=a.code,y=a.classes;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=o,this.keyCode=s,this.code=t,this.classes=y}var o,s,t;return o=e,(s=[{key:"generateKey",value:function(){var e=document.createElement("input");return Array.isArray(this.classes)?this.classes.forEach((function(a){e.classList.add(a)})):e.classList.add(this.classes),e.setAttribute("type","button"),e.setAttribute("value",this.key),e.dataset.attr=this.code,e}}])&&a(o.prototype,s),t&&a(o,t),Object.defineProperty(o,"prototype",{writable:!1}),e}();!function(){for(var a=function(a){var s=document.createElement("div");s.classList.add("keyboard__keys_row"),e[a].forEach((function(e){s.append(new o(e).generateKey())})),document.querySelector(".keyboard__keys").append(s)},s=0;s<e.length;s++)a(s)}();const s=JSON.parse('[[{"key":"ё","keyCode":192,"code":"Backquote","classes":"keyboard__key"},{"key":"1","keyCode":49,"code":"Digit1","classes":"keyboard__key"},{"key":"2","keyCode":50,"code":"Digit2","classes":"keyboard__key"},{"key":"3","keyCode":51,"code":"Digit3","classes":"keyboard__key"},{"key":"4","keyCode":52,"code":"Digit4","classes":"keyboard__key"},{"key":"5","keyCode":53,"code":"Digit5","classes":"keyboard__key"},{"key":"6","keyCode":54,"code":"Digit6","classes":"keyboard__key"},{"key":"7","keyCode":55,"code":"Digit7","classes":"keyboard__key"},{"key":"8","keyCode":56,"code":"Digit8","classes":"keyboard__key"},{"key":"9","keyCode":57,"code":"Digit9","classes":"keyboard__key"},{"key":"0","keyCode":48,"code":"Digit0","classes":"keyboard__key"},{"key":"-","keyCode":109,"code":"Minus","classes":"keyboard__key"},{"key":"=","keyCode":61,"code":"Equal","classes":"keyboard__key"},{"key":"Backspace","keyCode":8,"code":"Backspace","classes":["keyboard__key","backspace","option-key","icon-before"]}],[{"key":"Tab","keyCode":9,"code":"Tab","classes":["keyboard__key","tab","option-key","icon-before"]},{"key":"й","keyCode":89,"code":"KeyY","classes":"keyboard__key"},{"key":"ц","keyCode":87,"code":"KeyW","classes":"keyboard__key"},{"key":"у","keyCode":85,"code":"KeyU","classes":"keyboard__key"},{"key":"к","keyCode":75,"code":"KeyK","classes":"keyboard__key"},{"key":"е","keyCode":84,"code":"KeyT","classes":"keyboard__key"},{"key":"н","keyCode":89,"code":"KeyY","classes":"keyboard__key"},{"key":"г","keyCode":85,"code":"KeyU","classes":"keyboard__key"},{"key":"ш","keyCode":73,"code":"KeyI","classes":"keyboard__key"},{"key":"щ","keyCode":79,"code":"KeyO","classes":"keyboard__key"},{"key":"з","keyCode":80,"code":"KeyP","classes":"keyboard__key"},{"key":"х","keyCode":160,"code":"BracketLeft","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"description":"^","classes":"keyboard__key"},{"key":"ъ","keyCode":221,"code":"BracketRight","classes":"keyboard__key"},{"key":"\\\\","keyCode":220,"code":"Backslash","classes":"keyboard__key"},{"key":"Delete","keyCode":46,"code":"Delete","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":["keyboard__key","delete","option-key"]}],[{"key":"CapsLock","keyCode":20,"code":"CapsLock","classes":["keyboard__key","capslock","option-key"]},{"key":"ф","keyCode":65,"code":"KeyA","classes":"keyboard__key"},{"key":"ы","keyCode":83,"code":"KeyS","classes":"keyboard__key"},{"key":"в","keyCode":68,"code":"KeyD","classes":"keyboard__key"},{"key":"а","keyCode":70,"code":"KeyF","classes":"keyboard__key"},{"key":"п","keyCode":71,"code":"KeyG","classes":"keyboard__key"},{"key":"р","keyCode":72,"code":"KeyH","classes":"keyboard__key"},{"key":"о","keyCode":74,"code":"KeyJ","classes":"keyboard__key"},{"key":"л","keyCode":75,"code":"KeyK","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":"д","keyCode":76,"code":"KeyL","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":"ж","keyCode":59,"code":"Semicolon","classes":"keyboard__key"},{"key":"э","keyCode":222,"code":"Quote","classes":"keyboard__key"},{"key":"Enter","keyCode":13,"code":"Enter","classes":["keyboard__key","enter","option-key","icon-before"]}],[{"key":"Shift","keyCode":16,"code":"ShiftLeft","classes":["keyboard__key","shift-left","option-key","icon-before"]},{"key":"я","keyCode":90,"code":"KeyZ","classes":"keyboard__key"},{"key":"ч","keyCode":88,"code":"KeyX","classes":"keyboard__key"},{"key":"с","keyCode":67,"code":"KeyC","classes":"keyboard__key"},{"key":"м","keyCode":86,"code":"KeyV","classes":"keyboard__key"},{"key":"и","keyCode":66,"code":"KeyB","classes":"keyboard__key"},{"key":"т","keyCode":78,"code":"KeyN","classes":"keyboard__key"},{"key":"ь","keyCode":77,"code":"KeyM","classes":"keyboard__key"},{"key":"б","keyCode":108,"code":"Comma","location":3,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":"keyboard__key"},{"key":"ю","keyCode":190,"code":"Period","classes":"keyboard__key"},{"key":".","keyCode":191,"code":"Slash","classes":"keyboard__key"},{"key":"","keyCode":38,"code":"ArrowUp","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-up","option-key","icon-bg"]},{"key":"Shift","keyCode":16,"code":"ShiftRight","classes":["keyboard__key","shift-right","option-key","icon-before"]}],[{"key":"Ctrl","keyCode":17,"code":"ControlLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-left","option-key"]},{"key":"","keyCode":21,"code":"LightMode","classes":["keyboard__key","light-mode","option-key"]},{"key":"Alt","keyCode":18,"code":"AltLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":["keyboard__key","alt-left","option-key"]},{"key":" ","keyCode":32,"which":32,"code":"Space","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","space","option-key","icon-bg"]},{"key":"\\\\","keyCode":220,"code":"IntlBackslash","classes":["keyboard__key","backslash","option-key"]},{"key":"","keyCode":91,"code":"MetaLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","windows","option-key"]},{"key":"","keyCode":37,"code":"ArrowLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-left","option-key","icon-bg"]},{"key":"","keyCode":40,"code":"ArrowDown","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-down","option-key","icon-bg"]},{"key":"","keyCode":39,"code":"ArrowRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-right","option-key","icon-bg"]},{"key":"AltGr","keyCode":18,"code":"AltRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","alt-right","option-key"]},{"key":"Ctrl","which":17,"code":"ControlRight","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-right","option-key"]}]]');var t="en";null==localStorage.getItem("lang")?localStorage.setItem("lang",t):"ru"==localStorage.getItem("lang")&&(t="ru");var y="noCapsLock";null==localStorage.getItem("caps")?localStorage.setItem("caps",y):"CapsLock"==localStorage.getItem("caps")&&(y="noCapsLock"),window.onload=function(){i(),d(),r(t,"lowerCase")};var c=document.querySelector(".textarea"),l=document.querySelectorAll("input"),k=document.querySelector(".light-mode"),r=function(a,o){if("ru"===a)for(var t=0,y=0;t<s.length;t++)for(var c=0;c<s[t].length;c++)RegExp(/^\p{L}/,"u").test(s[t][c].key)&&1===s[t][c].key.length&&"upperCase"===o?l[y].value=s[t][c].key.toUpperCase():l[y].value=s[t][c].key,y++;else if("en"===a)for(var k=0,r=0;k<e.length;k++)for(var d=0;d<e[k].length;d++)RegExp(/^\p{L}/,"u").test(e[k][d].key)&&1===e[k][d].key.length&&"upperCase"===o?l[r].value=e[k][d].key.toUpperCase():l[r].value=e[k][d].key,r++},d=function(){var e=document.createElement("span");e.classList.add("indicator"),document.querySelector("[data-attr='CapsLock']").after(e)},i=function(){for(var e=function(e){l[e].addEventListener("click",(function(){c.focus();var a,o,s,t=c.selectionStart;switch(l[e].dataset.attr){case"Backspace":0!==c.selectionStart?c.selectionStart===c.selectionEnd?(c.value=c.value.slice(0,t-1)+c.value.slice(t),c.selectionStart=t-1,c.selectionEnd=c.selectionStart):(c.value=c.value.slice(0,c.selectionStart)+c.value.slice(c.selectionEnd),c.selectionStart=t,c.selectionEnd=c.selectionStart,t+=1):(c.value=c.value.slice(c.selectionEnd),c.selectionStart=0,c.selectionEnd=c.selectionStart),t-=1;break;case"Tab":c.selectionStart===c.selectionEnd?(c.value="".concat(c.value.slice(0,t),"    ").concat(c.value.slice(t)),c.selectionStart=t+4,c.selectionEnd=c.selectionStart):(c.value="".concat(c.value.slice(0,t),"    ").concat(c.value.slice(c.selectionEnd)),c.selectionStart=t+4,c.selectionEnd=c.selectionStart);break;case"Delete":c.selectionStart===c.selectionEnd?(c.value=c.value.slice(0,t)+c.value.slice(t+1),c.selectionStart=t,c.selectionEnd=c.selectionStart):(c.value=c.value.slice(0,t)+c.value.slice(c.selectionEnd),c.selectionStart=t,c.selectionEnd=c.selectionStart);break;case"CapsLock":document.querySelector(".indicator").classList.toggle("key-up"),document.querySelector(".indicator").classList.contains("key-up")?r("en","upperCase"):r("en","lowerCase"),"noCapsLock"==localStorage.getItem("caps")?(localStorage.removeItem("caps","noCapsLock"),localStorage.setItem("caps","CapsLock"),y="CapsLock"):"CapsLock"==localStorage.getItem("caps")&&(localStorage.removeItem("caps","CapsLock"),localStorage.setItem("caps","noCapsLock"),y="noCapsLock");break;case"ControlLeft":case"AltLeft":case"AltRight":case"ControlRight":case"ShiftLeft":case"ShiftRight":break;case"MetaLeft":alert("The browser has limited access outside of itself for security reasons!");break;case"Enter":c.selectionStart===c.selectionEnd?(c.value="".concat(c.value.slice(0,t),"\n").concat(c.value.slice(t)),c.selectionStart=t+1,c.selectionEnd=c.selectionStart):(c.value="".concat(c.value.slice(0,t),"\n").concat(c.value.slice(c.selectionEnd)),c.selectionStart=t+1,c.selectionEnd=c.selectionStart);break;case"Space":c.value+=" ";break;case"ArrowUp":for(var k=c.selectionStart-1;k>0;k-=1)if("\n"===c.value[k]){for(var d=k+1;d<c.value.length;d+=1){if("\n"===c.value[d]){s=d-k;break}s=c.value.length-k}(a=(a=c.value.slice(0,k).split("\n"))[a.length-1].length)<s&&c.selectionStart-a>k?(c.selectionStart-=c.selectionStart-k,c.selectionEnd=c.selectionStart):(c.selectionStart-=a+1,c.selectionEnd=c.selectionStart);break}break;case"ArrowLeft":0!==c.selectionStart&&(c.selectionStart-=1,c.selectionEnd=c.selectionStart);break;case"ArrowRight":c.selectionStart+=1;break;case"ArrowDown":for(var i=c.selectionStart;i<c.value.length;i+=1)if("\n"===c.value[i]){for(var n=i-1;n>0;n-=1){if("\n"===c.value[n]){s=i-n;break}s=i+1}(o=c.value.slice(i+1).replace(/[\n].*/g,"").length)<s&&c.selectionStart+s>i+o?c.selectionStart+=i-c.selectionStart+o+1:c.selectionStart+=s;break}break;default:c.selectionStart===c.selectionEnd?(document.querySelector(".indicator").classList.contains("key-up")?c.value=c.value.slice(0,t)+l[e].value.toUpperCase()+c.value.slice(t):c.value=c.value.slice(0,t)+l[e].value+c.value.slice(t),c.selectionStart=t+1,c.selectionEnd=c.selectionStart):(document.querySelector(".indicator").classList.contains("key-up")?c.value=c.value.slice(0,c.selectionStart)+l[e].value.toUpperCase()+c.value.slice(c.selectionEnd):c.value=c.value.slice(0,c.selectionStart)+l[e].value+c.value.slice(c.selectionEnd),c.selectionStart=t+1,c.selectionEnd=c.selectionStart)}}))},a=0;a<l.length;a++)e(a)};document.addEventListener("keydown",(function(e){c.focus();var a=c.selectionStart;switch(document.querySelector('[data-attr="'.concat(e.code,'"]')).classList.add("active"),setTimeout((function(){document.querySelector('[data-attr="'.concat(e.code,'"]')).classList.remove("active")}),300),e.code){case"Tab":c.selectionStart===c.selectionEnd?(c.value="".concat(c.value.slice(0,a),"    ").concat(c.value.slice(a)),c.selectionStart=a+4,c.selectionEnd=c.selectionStart):(c.value="".concat(c.value.slice(0,a),"    ").concat(c.value.slice(c.selectionEnd)),c.selectionStart=a+4,c.selectionEnd=c.selectionStart),e.preventDefault();break;case"CapsLock":document.querySelector(".indicator").classList.toggle("key-up"),"noCapsLock"==localStorage.getItem("caps")?(localStorage.removeItem("caps","noCapsLock"),localStorage.setItem("caps","CapsLock"),y="CapsLock"):"CapsLock"==localStorage.getItem("caps")&&(localStorage.removeItem("caps","CapsLock"),localStorage.setItem("caps","noCapsLock"),y="noCapsLock")}})),document.onkeydown=function(e){"ControlLeft"==e.code&&(document.onkeyup=function(e){"AltLeft"==e.code&&("en"==localStorage.getItem("lang")?(localStorage.removeItem("lang","en"),localStorage.setItem("lang","ru"),t="ru"):"ru"==localStorage.getItem("lang")&&(localStorage.removeItem("lang","ru"),localStorage.setItem("lang","en"),t="en"),y=localStorage.getItem("caps"),console.log(y),r(t,y),e.preventDefault())})},k.addEventListener("click",(function(){for(var e=0;e<l.length;e++)l[e].classList.toggle("key-light")}))})();