(()=>{"use strict";const e=JSON.parse('[[{"key":"`","keyCode":192,"code":"Backquote","classes":"keyboard__key"},{"key":"1","keyCode":49,"code":"Digit1","classes":"keyboard__key"},{"key":"2","keyCode":50,"code":"Digit2","classes":"keyboard__key"},{"key":"3","keyCode":51,"code":"Digit3","classes":"keyboard__key"},{"key":"4","keyCode":52,"code":"Digit4","classes":"keyboard__key"},{"key":"5","keyCode":53,"code":"Digit5","classes":"keyboard__key"},{"key":"6","keyCode":54,"code":"Digit6","classes":"keyboard__key"},{"key":"7","keyCode":55,"code":"Digit7","classes":"keyboard__key"},{"key":"8","keyCode":56,"code":"Digit8","classes":"keyboard__key"},{"key":"9","keyCode":57,"code":"Digit9","classes":"keyboard__key"},{"key":"0","keyCode":48,"code":"Digit0","classes":"keyboard__key"},{"key":"-","keyCode":109,"code":"Minus","classes":"keyboard__key"},{"key":"=","keyCode":61,"code":"Equal","classes":"keyboard__key"},{"key":"Backspace","keyCode":8,"code":"Backspace","classes":["keyboard__key","backspace","option-key","icon-before"]}],[{"key":"Tab","keyCode":9,"code":"Tab","classes":["keyboard__key","tab","option-key","icon-before"]},{"key":"q","keyCode":81,"code":"KeyQ","classes":"keyboard__key"},{"key":"w","keyCode":87,"code":"KeyW","classes":"keyboard__key"},{"key":"e","keyCode":69,"code":"KeyE","classes":"keyboard__key"},{"key":"r","keyCode":82,"code":"KeyR","classes":"keyboard__key"},{"key":"t","keyCode":84,"code":"KeyT","classes":"keyboard__key"},{"key":"y","keyCode":89,"code":"KeyY","classes":"keyboard__key"},{"key":"u","keyCode":85,"code":"KeyU","classes":"keyboard__key"},{"key":"i","keyCode":73,"code":"KeyI","classes":"keyboard__key"},{"key":"o","keyCode":79,"code":"KeyO","classes":"keyboard__key"},{"key":"p","keyCode":80,"code":"KeyP","classes":"keyboard__key"},{"key":"[","keyCode":160,"code":"BracketLeft","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"description":"^","classes":"keyboard__key"},{"key":"]","keyCode":221,"code":"BracketRight","classes":"keyboard__key"},{"key":"\\\\","keyCode":220,"code":"Backslash","classes":"keyboard__key"},{"key":"Delete","keyCode":46,"code":"Delete","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":["keyboard__key","delete","option-key"]}],[{"key":"CapsLock","keyCode":20,"code":"CapsLock","classes":["keyboard__key","capslock","option-key"]},{"key":"a","keyCode":65,"code":"KeyA","classes":"keyboard__key"},{"key":"s","keyCode":83,"code":"KeyS","classes":"keyboard__key"},{"key":"d","keyCode":68,"code":"KeyD","classes":"keyboard__key"},{"key":"f","keyCode":70,"code":"KeyF","classes":"keyboard__key"},{"key":"g","keyCode":71,"code":"KeyG","classes":"keyboard__key"},{"key":"h","keyCode":72,"code":"KeyH","classes":"keyboard__key"},{"key":"j","keyCode":74,"code":"KeyJ","classes":"keyboard__key"},{"key":"k","keyCode":75,"code":"KeyK","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":"l","keyCode":76,"code":"KeyL","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":";","keyCode":59,"code":"Semicolon","classes":"keyboard__key"},{"key":"\'","keyCode":222,"code":"Quote","classes":"keyboard__key"},{"key":"Enter","keyCode":13,"code":"Enter","classes":["keyboard__key","enter","option-key","icon-before"]}],[{"key":"Shift","keyCode":16,"code":"ShiftLeft","classes":["keyboard__key","shift-left","option-key","icon-before"]},{"key":"z","keyCode":90,"code":"KeyZ","classes":"keyboard__key"},{"key":"x","keyCode":88,"code":"KeyX","classes":"keyboard__key"},{"key":"c","keyCode":67,"code":"KeyC","classes":"keyboard__key"},{"key":"v","keyCode":86,"code":"KeyV","classes":"keyboard__key"},{"key":"b","keyCode":66,"code":"KeyB","classes":"keyboard__key"},{"key":"n","keyCode":78,"code":"KeyN","classes":"keyboard__key"},{"key":"m","keyCode":77,"code":"KeyM","classes":"keyboard__key"},{"key":",","keyCode":108,"code":"Comma","location":3,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":"keyboard__key"},{"key":".","keyCode":190,"code":"Period","classes":"keyboard__key"},{"key":"/","keyCode":191,"code":"Slash","classes":"keyboard__key"},{"key":"","keyCode":38,"code":"ArrowUp","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-up","option-key","icon-bg"]},{"key":"Shift","keyCode":16,"code":"ShiftRight","classes":["keyboard__key","shift-right","option-key","icon-before"]}],[{"key":"Ctrl","keyCode":17,"code":"ControlLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-left","option-key"]},{"key":"","keyCode":21,"code":"LightMode","classes":["keyboard__key","light-mode","option-key"]},{"key":"Alt","keyCode":18,"code":"AltLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":["keyboard__key","alt-left","option-key"]},{"key":" ","keyCode":32,"which":32,"code":"Space","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","space","option-key","icon-bg"]},{"key":"\\\\","keyCode":220,"code":"IntlBackslash","classes":["keyboard__key","backslash","option-key"]},{"key":"","keyCode":91,"code":"MetaLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","windows","option-key"]},{"key":"","keyCode":37,"code":"ArrowLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-left","option-key","icon-bg"]},{"key":"","keyCode":40,"code":"ArrowDown","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-down","option-key","icon-bg"]},{"key":"","keyCode":39,"code":"ArrowRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-right","option-key","icon-bg"]},{"key":"AltGr","keyCode":18,"code":"AltRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","alt-right","option-key"]},{"key":"Ctrl","which":17,"code":"ControlRight","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-right","option-key"]}]]'),a=JSON.parse('[[{"key":"ё","keyCode":192,"code":"Backquote","classes":"keyboard__key"},{"key":"1","keyCode":49,"code":"Digit1","classes":"keyboard__key"},{"key":"2","keyCode":50,"code":"Digit2","classes":"keyboard__key"},{"key":"3","keyCode":51,"code":"Digit3","classes":"keyboard__key"},{"key":"4","keyCode":52,"code":"Digit4","classes":"keyboard__key"},{"key":"5","keyCode":53,"code":"Digit5","classes":"keyboard__key"},{"key":"6","keyCode":54,"code":"Digit6","classes":"keyboard__key"},{"key":"7","keyCode":55,"code":"Digit7","classes":"keyboard__key"},{"key":"8","keyCode":56,"code":"Digit8","classes":"keyboard__key"},{"key":"9","keyCode":57,"code":"Digit9","classes":"keyboard__key"},{"key":"0","keyCode":48,"code":"Digit0","classes":"keyboard__key"},{"key":"-","keyCode":109,"code":"Minus","classes":"keyboard__key"},{"key":"=","keyCode":61,"code":"Equal","classes":"keyboard__key"},{"key":"Backspace","keyCode":8,"code":"Backspace","classes":["keyboard__key","backspace","option-key","icon-before"]}],[{"key":"Tab","keyCode":9,"code":"Tab","classes":["keyboard__key","tab","option-key","icon-before"]},{"key":"й","keyCode":89,"code":"KeyY","classes":"keyboard__key"},{"key":"ц","keyCode":87,"code":"KeyW","classes":"keyboard__key"},{"key":"у","keyCode":85,"code":"KeyU","classes":"keyboard__key"},{"key":"к","keyCode":75,"code":"KeyK","classes":"keyboard__key"},{"key":"е","keyCode":84,"code":"KeyT","classes":"keyboard__key"},{"key":"н","keyCode":89,"code":"KeyY","classes":"keyboard__key"},{"key":"г","keyCode":85,"code":"KeyU","classes":"keyboard__key"},{"key":"ш","keyCode":73,"code":"KeyI","classes":"keyboard__key"},{"key":"щ","keyCode":79,"code":"KeyO","classes":"keyboard__key"},{"key":"з","keyCode":80,"code":"KeyP","classes":"keyboard__key"},{"key":"х","keyCode":160,"code":"BracketLeft","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"description":"^","classes":"keyboard__key"},{"key":"ъ","keyCode":221,"code":"BracketRight","classes":"keyboard__key"},{"key":"\\\\","keyCode":220,"code":"Backslash","classes":"keyboard__key"},{"key":"Delete","keyCode":46,"code":"Delete","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":["keyboard__key","delete","option-key"]}],[{"key":"CapsLock","keyCode":20,"code":"CapsLock","classes":["keyboard__key","capslock","option-key"]},{"key":"ф","keyCode":65,"code":"KeyA","classes":"keyboard__key"},{"key":"ы","keyCode":83,"code":"KeyS","classes":"keyboard__key"},{"key":"в","keyCode":68,"code":"KeyD","classes":"keyboard__key"},{"key":"а","keyCode":70,"code":"KeyF","classes":"keyboard__key"},{"key":"п","keyCode":71,"code":"KeyG","classes":"keyboard__key"},{"key":"р","keyCode":72,"code":"KeyH","classes":"keyboard__key"},{"key":"о","keyCode":74,"code":"KeyJ","classes":"keyboard__key"},{"key":"л","keyCode":75,"code":"KeyK","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":"д","keyCode":76,"code":"KeyL","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":"keyboard__key"},{"key":"ж","keyCode":59,"code":"Semicolon","classes":"keyboard__key"},{"key":"э","keyCode":222,"code":"Quote","classes":"keyboard__key"},{"key":"Enter","keyCode":13,"code":"Enter","classes":["keyboard__key","enter","option-key","icon-before"]}],[{"key":"Shift","keyCode":16,"code":"ShiftLeft","classes":["keyboard__key","shift-left","option-key","icon-before"]},{"key":"я","keyCode":90,"code":"KeyZ","classes":"keyboard__key"},{"key":"ч","keyCode":88,"code":"KeyX","classes":"keyboard__key"},{"key":"с","keyCode":67,"code":"KeyC","classes":"keyboard__key"},{"key":"м","keyCode":86,"code":"KeyV","classes":"keyboard__key"},{"key":"и","keyCode":66,"code":"KeyB","classes":"keyboard__key"},{"key":"т","keyCode":78,"code":"KeyN","classes":"keyboard__key"},{"key":"ь","keyCode":77,"code":"KeyM","classes":"keyboard__key"},{"key":"б","keyCode":108,"code":"Comma","location":3,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"classes":"keyboard__key"},{"key":"ю","keyCode":190,"code":"Period","classes":"keyboard__key"},{"key":".","keyCode":191,"code":"Slash","classes":"keyboard__key"},{"key":"","keyCode":38,"code":"ArrowUp","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-up","option-key","icon-bg"]},{"key":"Shift","keyCode":16,"code":"ShiftRight","classes":["keyboard__key","shift-right","option-key","icon-before"]}],[{"key":"Ctrl","keyCode":17,"code":"ControlLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-left","option-key"]},{"key":"","keyCode":21,"code":"LightMode","classes":["keyboard__key","light-mode","option-key"]},{"key":"Alt","keyCode":18,"code":"AltLeft","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":false,"classes":["keyboard__key","alt-left","option-key"]},{"key":" ","keyCode":32,"which":32,"code":"Space","location":0,"altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","space","option-key","icon-bg"]},{"key":"\\\\","keyCode":220,"code":"IntlBackslash","classes":["keyboard__key","backslash","option-key"]},{"key":"","keyCode":91,"code":"MetaLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","windows","option-key"]},{"key":"","keyCode":37,"code":"ArrowLeft","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-left","option-key","icon-bg"]},{"key":"","keyCode":40,"code":"ArrowDown","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-down","option-key","icon-bg"]},{"key":"","keyCode":39,"code":"ArrowRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","arrow-right","option-key","icon-bg"]},{"key":"AltGr","keyCode":18,"code":"AltRight","altKey":false,"ctrlKey":false,"metaKey":false,"shiftKey":false,"repeat":false,"classes":["keyboard__key","alt-right","option-key"]},{"key":"Ctrl","which":17,"code":"ControlRight","altKey":true,"ctrlKey":false,"metaKey":true,"shiftKey":true,"classes":["keyboard__key","ctrl-right","option-key"]}]]');function t(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function e(a){var t=a.key,o=a.keyCode,s=a.code,y=a.classes;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t,this.keyCode=o,this.code=s,this.classes=y}var a,o,s;return a=e,(o=[{key:"generateKey",value:function(){var e=document.createElement("input");return Array.isArray(this.classes)?this.classes.forEach((function(a){e.classList.add(a)})):e.classList.add(this.classes),e.setAttribute("type","button"),e.setAttribute("value",this.key),e.dataset.attr=this.code,e}}])&&t(a.prototype,o),s&&t(a,s),Object.defineProperty(a,"prototype",{writable:!1}),e}();function s(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y=function(){function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys=a}var a,t,y;return a=e,(t=[{key:"generateKeyboardRow",value:function(e){for(var a=[],t=function(t){var s=document.createElement("div");s.classList.add("keyboard__keys_row"),e[t].forEach((function(e){s.append(new o(e).generateKey())})),a.push(s)},s=0;s<e.length;s++)t(s);return a}}])&&s(a.prototype,t),y&&s(a,y),Object.defineProperty(a,"prototype",{writable:!1}),e}(),c=document.querySelector(".keyboard__keys");(new y).generateKeyboardRow(e).forEach((function(e){return c.append(e)}));var l=document.querySelector(".textarea"),k=document.querySelectorAll("input"),r=document.querySelector(".light-mode");window.onload=function(){f(),n(localStorage.getItem("lang"),localStorage.getItem("caps")),l.focus()};var d="en";null==localStorage.getItem("lang")?localStorage.setItem("lang",d):"ru"==localStorage.getItem("lang")&&(d="ru");var i;(i=document.createElement("span")).classList.add("indicator"),document.querySelector("[data-attr='CapsLock']").after(i),null==localStorage.getItem("caps")?(localStorage.setItem("caps","lowerCase"),document.querySelector(".indicator").classList.remove("key-up")):"upperCase"==localStorage.getItem("caps")&&document.querySelector(".indicator").classList.add("key-up");var n=function(t,o){if("ru"===t)for(var s=0,y=0;s<a.length;s++)for(var c=0;c<a[s].length;c++)RegExp(/^\p{L}/,"u").test(a[s][c].key)&&1===a[s][c].key.length&&"upperCase"===o?k[y].value=a[s][c].key.toUpperCase():k[y].value=a[s][c].key,y++;else if("en"===t)for(var l=0,r=0;l<e.length;l++)for(var d=0;d<e[l].length;d++)RegExp(/^\p{L}/,"u").test(e[l][d].key)&&1===e[l][d].key.length&&"upperCase"===o?k[r].value=e[l][d].key.toUpperCase():k[r].value=e[l][d].key,r++},f=function(){for(var e=function(e){k[e].addEventListener("click",(function(){l.focus();var a,t,o,s=l.selectionStart;switch(k[e].dataset.attr){case"Backspace":0!==l.selectionStart?l.selectionStart===l.selectionEnd?(l.value=l.value.slice(0,s-1)+l.value.slice(s),l.selectionStart=s-1,l.selectionEnd=l.selectionStart):(l.value=l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd),l.selectionStart=s,l.selectionEnd=l.selectionStart,s+=1):(l.value=l.value.slice(l.selectionEnd),l.selectionStart=0,l.selectionEnd=l.selectionStart),s-=1;break;case"Tab":l.selectionStart===l.selectionEnd?(l.value="".concat(l.value.slice(0,s),"    ").concat(l.value.slice(s)),l.selectionStart=s+4,l.selectionEnd=l.selectionStart):(l.value="".concat(l.value.slice(0,s),"    ").concat(l.value.slice(l.selectionEnd)),l.selectionStart=s+4,l.selectionEnd=l.selectionStart);break;case"Delete":l.selectionStart===l.selectionEnd?(l.value=l.value.slice(0,s)+l.value.slice(s+1),l.selectionStart=s,l.selectionEnd=l.selectionStart):(l.value=l.value.slice(0,s)+l.value.slice(l.selectionEnd),l.selectionStart=s,l.selectionEnd=l.selectionStart);break;case"CapsLock":document.querySelector(".indicator").classList.contains("key-up")?(document.querySelector(".indicator").classList.remove("key-up"),localStorage.setItem("caps","lowerCase"),n(localStorage.getItem("lang"),localStorage.getItem("caps"))):(document.querySelector(".indicator").classList.add("key-up"),localStorage.setItem("caps","upperCase"),n(localStorage.getItem("lang"),localStorage.getItem("caps")));break;case"ControlLeft":case"AltLeft":case"AltRight":case"ControlRight":case"ShiftLeft":case"ShiftRight":break;case"MetaLeft":alert("You use ".concat(navigator.platform," platform"));break;case"Enter":l.selectionStart===l.selectionEnd?(l.value="".concat(l.value.slice(0,s),"\n").concat(l.value.slice(s)),l.selectionStart=s+1,l.selectionEnd=l.selectionStart):(l.value="".concat(l.value.slice(0,s),"\n").concat(l.value.slice(l.selectionEnd)),l.selectionStart=s+1,l.selectionEnd=l.selectionStart);break;case"Space":l.selectionStart===l.selectionEnd?(l.value="".concat(l.value.slice(0,s)," ").concat(l.value.slice(s)),l.selectionStart=s+1,l.selectionEnd=l.selectionStart):(l.value="".concat(l.value.slice(0,s)," ").concat(l.value.slice(l.selectionEnd)),l.selectionStart=s+1,l.selectionEnd=l.selectionStart);break;case"ArrowUp":for(var y=l.selectionStart-1;y>0;y-=1)if("\n"===l.value[y]){for(var c=y+1;c<l.value.length;c+=1){if("\n"===l.value[c]){o=c-y;break}o=l.value.length-y}(a=(a=l.value.slice(0,y).split("\n"))[a.length-1].length)<o&&l.selectionStart-a>y?(l.selectionStart-=l.selectionStart-y,l.selectionEnd=l.selectionStart):(l.selectionStart-=a+1,l.selectionEnd=l.selectionStart);break}break;case"ArrowLeft":0!==l.selectionStart&&(l.selectionStart-=1,l.selectionEnd=l.selectionStart);break;case"ArrowRight":l.selectionStart+=1;break;case"ArrowDown":for(var r=l.selectionStart;r<l.value.length;r+=1)if("\n"===l.value[r]){for(var d=r-1;d>0;d-=1){if("\n"===l.value[d]){o=r-d;break}o=r+1}(t=l.value.slice(r+1).replace(/[\n].*/g,"").length)<o&&l.selectionStart+o>r+t?l.selectionStart+=r-l.selectionStart+t+1:l.selectionStart+=o;break}break;default:l.selectionStart===l.selectionEnd?(document.querySelector(".indicator").classList.contains("key-up")?l.value=l.value.slice(0,s)+k[e].value.toUpperCase()+l.value.slice(s):l.value=l.value.slice(0,s)+k[e].value+l.value.slice(s),l.selectionStart=s+1,l.selectionEnd=l.selectionStart):(document.querySelector(".indicator").classList.contains("key-up")?l.value=l.value.slice(0,l.selectionStart)+k[e].value.toUpperCase()+l.value.slice(l.selectionEnd):l.value=l.value.slice(0,l.selectionStart)+k[e].value+l.value.slice(l.selectionEnd),l.selectionStart=s+1,l.selectionEnd=l.selectionStart)}}))},a=0;a<k.length;a++)e(a)};document.addEventListener("keydown",(function(e){l.focus();var a=l.selectionStart;switch(document.querySelector('[data-attr="'.concat(e.code,'"]')).classList.add("active"),setTimeout((function(){document.querySelector('[data-attr="'.concat(e.code,'"]')).classList.remove("active")}),300),e.code){case"Tab":l.selectionStart===l.selectionEnd?(l.value="".concat(l.value.slice(0,a),"    ").concat(l.value.slice(a)),l.selectionStart=a+4,l.selectionEnd=l.selectionStart):(l.value="".concat(l.value.slice(0,a),"    ").concat(l.value.slice(l.selectionEnd)),l.selectionStart=a+4,l.selectionEnd=l.selectionStart),e.preventDefault();break;case"Backspace":case"Enter":case"ShiftLeft":case"ShiftRight":case"AltRight":case"ControlLeft":case"ControlRight":case"ArrowUp":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"Delete":break;case"CapsLock":document.querySelector(".indicator").classList.contains("key-up")?(document.querySelector(".indicator").classList.remove("key-up"),localStorage.setItem("caps","lowerCase"),n(localStorage.getItem("lang"),localStorage.getItem("caps"))):(document.querySelector(".indicator").classList.add("key-up"),localStorage.setItem("caps","upperCase"),n(localStorage.getItem("lang"),localStorage.getItem("caps")));break;case"AltLeft":e.preventDefault();break;default:localStorage.getItem("lang","en"),n(localStorage.getItem("lang"),localStorage.getItem("caps")),function(e){e.getModifierState("CapsLock")&&!document.querySelector(".indicator").classList.contains("key-up")&&(document.querySelector(".indicator").classList.add("key-up"),localStorage.setItem("caps","upperCase"),n(localStorage.getItem("lang"),localStorage.getItem("caps")),document.querySelector(".caps-lock-info").classList.add("show"),setTimeout((function(){document.querySelector(".caps-lock-info").classList.remove("show")}),7e3))}(e),l.selectionStart===l.selectionEnd&&(e.getModifierState("CapsLock"),l.value=l.value.slice(0,a)+document.querySelector('[data-attr="'.concat(e.code,'"]')).value+l.value.slice(a),l.selectionStart=a+1,l.selectionEnd=l.selectionStart),e.preventDefault()}})),document.onkeydown=function(e){"ControlLeft"==e.code&&(document.onkeyup=function(e){"AltLeft"==e.code&&("en"==localStorage.getItem("lang")?(localStorage.removeItem("lang","en"),localStorage.setItem("lang","ru"),d="ru"):"ru"==localStorage.getItem("lang")&&(localStorage.removeItem("lang","ru"),localStorage.setItem("lang","en"),d="en"),"upperCase"==localStorage.getItem("caps")&&document.querySelector(".indicator").classList.add("key-up"),n(localStorage.getItem("lang"),localStorage.getItem("caps")),e.preventDefault())})},r.addEventListener("click",(function(){for(var e=0;e<k.length;e++)k[e].classList.toggle("key-light");l.selectionStart=l.selectionStart-1,l.selectionEnd=l.selectionStart}))})();